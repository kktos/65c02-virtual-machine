<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
	<link rel="stylesheet" href="/assets/main.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>65x02 Machine Emulator</title>
  </head>
  <body>
	<div contentEditable="true" id="machine">
		<canvas id="screen"></canvas>
	</div>

	<div id="asm" window>
		<div id="btns" window-title="close">
			<div></div>
			<div id="asm-open" class="btn">OPEN</div>
			<div id="asm-asm" class="btn">ASSEMBLE</div>
		</div>
		<div class="asm-src">
			<pre id="editor" contenteditable="true"></pre>
		</div>
	</div>

	<div id="debugger" window>
		<div id="mem"></div>
		<div id="disasm"></div>
		<div id="stack"></div>
		<div id="bps"></div>
		<div id="registers">
			<div>A</div><div class="register" id="A"></div>
			<div>X</div><div class="register" id="X"></div>
			<div>Y</div><div class="register" id="Y"></div>
			<div>PC</div><div class="register" id="PC"></div>
			<div>S</div><div class="register" id="SP"></div>
			<div class="p register">
				<div id="n" class="status"><div>N</div><div class="flag"></div></div>
				<div id="v" class="status"><div>V</div><div class="flag"></div></div>
				<div id="d" class="status"><div>D</div><div class="flag"></div></div>
				<div id="i" class="status"><div>I</div><div class="flag"></div></div>
				<div id="z" class="status"><div>Z</div><div class="flag"></div></div>
				<div id="c" class="status"><div>C</div><div class="flag"></div></div>
			</div>
		</div>
		<div id="btns" window-title>
			<div id="reset" class="btn">RESET</div>
			<img id="play" class="icn btn play" src="/assets/icons/debug_play.svg" />
			<img id="pause" class="icn btn pause" src="/assets/icons/debug_pause.svg" />
			<img id="step_over" class="icn btn paused" src="/assets/icons/debug_step_over.svg" />
			<img id="step_into" class="icn btn paused" src="/assets/icons/debug_step_into.svg" />
			<img id="step_out" class="icn btn paused" src="/assets/icons/debug_step_out.svg" />
			<div></div>
			<input type="number" id="speed" value="1" step="0.1">
			<div class="label">MHz</div>
			<div id="asm-start" class="btn">ASSEMBLER</div>
			<div id="boot-disk" class="btn">DISK <span id="diskname"></span></div>
			<div id="clear-log" class="btn">CLEAR LOG</div>
		</div>
		<div class="log"></div>
		<dialog id="editValueDlg">
			<form method="dialog">
			  <p><label>Favorite animal:
				<select>
				  <option></option>
				  <option>Brine shrimp</option>
				  <option>Red panda</option>
				  <option>Spider monkey</option>
				</select>
			  </label></p>
			  <menu>
				<button value="cancel">Cancel</button>
				<button id="confirmBtn" value="default">Confirm</button>
			  </menu>
			</form>
		  </dialog>
	</div>

    <script type="module" src="/src/main.js"></script>
	<script>
		fpscounter_options = {
			auto_start : true, // should the fpscounter start right away?
			width : 100, // width of the fpscounter
			height: 50, // height of the fpscounter
			remove_on_click: false // should clicking remove instead of pausing?
		};
	</script>
	<script src="/src/fpscounter.js"></script>
  </body>
</html>
